<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Student Scheduler - Technical Documentation</title>
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Prism.js for syntax highlighting -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
  
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  
  <style>
    body {
      font-family: 'Inter', sans-serif;
      line-height: 1.6;
    }
    
    code {
      font-family: 'JetBrains Mono', monospace;
    }
    
    /* Markdown-like styling */
    .content h1 {
      font-size: 2.5rem;
      font-weight: 700;
      color: #1f2937;
      margin: 2rem 0 1.5rem 0;
      padding-bottom: 1rem;
      border-bottom: 3px solid #4f46e5;
    }
    
    .content h2 {
      font-size: 2rem;
      font-weight: 600;
      color: #374151;
      margin: 2rem 0 1rem 0;
      padding-bottom: 0.5rem;
      border-bottom: 2px solid #e5e7eb;
    }
    
    .content h3 {
      font-size: 1.5rem;
      font-weight: 600;
      color: #4b5563;
      margin: 1.5rem 0 0.75rem 0;
    }
    
    .content h4 {
      font-size: 1.25rem;
      font-weight: 600;
      color: #6b7280;
      margin: 1rem 0 0.5rem 0;
    }
    
    .content p {
      color: #6b7280;
      margin-bottom: 1rem;
    }
    
    .content ul, .content ol {
      color: #6b7280;
      margin: 1rem 0;
      padding-left: 1.5rem;
    }
    
    .content li {
      margin-bottom: 0.25rem;
    }
    
    .content blockquote {
      border-left: 4px solid #a5b4fc;
      background-color: #f8fafc;
      padding: 1rem;
      margin: 1rem 0;
      font-style: italic;
    }
    
    .content code:not(pre code) {
      background-color: #f3f4f6;
      color: #4338ca;
      padding: 0.25rem 0.5rem;
      border-radius: 0.25rem;
      font-size: 0.875rem;
    }
    
    .content pre {
      background-color: #1f2937;
      border-radius: 0.5rem;
      padding: 1rem;
      margin: 1rem 0;
      overflow-x: auto;
    }
    
    .content pre code {
      color: #f9fafb;
      font-size: 0.875rem;
    }
    
    .content table {
      width: 100%;
      border-collapse: collapse;
      margin: 1rem 0;
    }
    
    .content th, .content td {
      border: 1px solid #d1d5db;
      padding: 0.75rem;
      text-align: left;
    }
    
    .content th {
      background-color: #f3f4f6;
      font-weight: 600;
    }
    
    .content a {
      color: #4338ca;
      text-decoration: underline;
    }
    
    .content a:hover {
      color: #3730a3;
    }
    
    /* Table of Contents */
    .toc {
      background-color: #f8fafc;
      border: 2px solid #e2e8f0;
      border-radius: 0.75rem;
      padding: 1.5rem;
      margin: 2rem 0;
    }
    
    .toc h3 {
      color: #4338ca;
      margin-top: 0;
    }
    
    .toc ul {
      list-style: none;
      padding-left: 0;
    }
    
    .toc li {
      margin-bottom: 0.5rem;
    }
    
    .toc a {
      color: #4338ca;
      text-decoration: none;
    }
    
    .toc a:hover {
      text-decoration: underline;
    }
    
    /* Smooth scrolling */
    html {
      scroll-behavior: smooth;
    }
    
    /* Back to top button */
    .back-to-top {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      background-color: #4338ca;
      color: white;
      padding: 0.75rem;
      border-radius: 50%;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      transition: all 0.3s ease;
      opacity: 0;
      transform: translateY(4rem);
    }
    
    .back-to-top.visible {
      opacity: 1;
      transform: translateY(0);
    }
    
    .back-to-top:hover {
      background-color: #3730a3;
      transform: translateY(-0.25rem);
    }
  </style>
</head>
<body class="bg-gray-50 min-h-screen">
  <!-- Header -->
  <header class="bg-white shadow-sm border-b">
    <div class="max-w-6xl mx-auto px-4 py-6">
      <div class="flex items-center justify-between">
        <div>
          <h1 class="text-2xl font-bold text-gray-900">Student Scheduler</h1>
          <p class="text-gray-600">Technical Documentation</p>
        </div>
        <div class="flex space-x-4">
          <a href="index.html" class="inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors">
            ← Back to Main Site
          </a>
          <a href="technical-documentation.md" download class="inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors">
            Download MD
          </a>
        </div>
      </div>
    </div>
  </header>

  <!-- Documentation Content -->
  <main class="max-w-6xl mx-auto px-4 py-8">
    <div class="bg-white rounded-lg shadow-sm p-8 content">
      
      <h1>Student Scheduler Application - Development Documentation</h1>
      
      <!-- Table of Contents -->
      <div class="toc">
        <h3>Table of Contents</h3>
        <ul>
          <li><a href="#project-overview">1. Project Overview</a></li>
          <li><a href="#architecture">2. Architecture</a></li>
          <li><a href="#technology-stack">3. Technology Stack</a></li>
          <li><a href="#project-structure">4. Project Structure</a></li>
          <li><a href="#data-models">5. Data Models</a></li>
          <li><a href="#services">6. Services</a></li>
          <li><a href="#views-and-user-interface">7. Views and User Interface</a></li>
          <li><a href="#authentication-system">8. Authentication System</a></li>
          <li><a href="#database-design">9. Database Design</a></li>
          <li><a href="#notification-system">10. Notification System</a></li>
          <li><a href="#reporting-system">11. Reporting System</a></li>
          <li><a href="#testing">12. Testing</a></li>
          <li><a href="#build-deployment">13. Build and Deployment</a></li>
          <li><a href="#api-reference">14. API Reference</a></li>
          <li><a href="#business-rules">15. Business Rules</a></li>
          <li><a href="#security-considerations">16. Security Considerations</a></li>
          <li><a href="#performance-considerations">17. Performance Considerations</a></li>
          <li><a href="#future-enhancements">18. Future Enhancements</a></li>
        </ul>
      </div>

      <h2 id="project-overview">Project Overview</h2>
      <p>The <strong>Student Scheduler Application</strong> is a comprehensive mobile application built with .NET MAUI (Multi-platform App UI) that allows students to manage their academic schedules. Originally developed for the C971 Mobile Application Development course, it has been enhanced for the D424 Software Engineering Capstone.</p>
      
      <h3>Key Features</h3>
      <ul>
        <li><strong>User Authentication</strong>: Secure registration and login system</li>
        <li><strong>Academic Term Management</strong>: Create, edit, and delete academic terms</li>
        <li><strong>Course Management</strong>: Manage courses within terms with instructor details</li>
        <li><strong>Assessment Tracking</strong>: Track performance and objective assessments for each course</li>
        <li><strong>Local Notifications</strong>: Set reminders for course start/end dates</li>
        <li><strong>Reporting System</strong>: Generate comprehensive academic transcripts</li>
        <li><strong>File Sharing</strong>: Share course notes and academic reports</li>
        <li><strong>Multi-user Support</strong>: Individual user accounts with data isolation</li>
      </ul>

      <h3>Project Metadata</h3>
      <ul>
        <li><strong>Student</strong>: Tofik Mohammed (tmoha34)</li>
        <li><strong>Course</strong>: D424 Software Engineering Capstone</li>
        <li><strong>Framework</strong>: .NET 9.0 with MAUI</li>
        <li><strong>Target Platforms</strong>: Android (primary), iOS, Windows, macOS</li>
        <li><strong>Database</strong>: SQLite with SQLite-net-pcl</li>
      </ul>

      <h2 id="architecture">Architecture</h2>
      <h3>Application Architecture Pattern</h3>
      <p>The application follows the <strong>Model-View-ViewModel (MVVM)</strong> pattern with additional service layers:</p>
      
      <pre><code>┌─────────────────┐
│     Views       │ ← User Interface (XAML + Code-behind)
├─────────────────┤
│   ViewModels    │ ← Data Binding & UI Logic
├─────────────────┤
│    Services     │ ← Business Logic Layer
├─────────────────┤
│     Models      │ ← Data Models & Entities
├─────────────────┤
│   Data Layer    │ ← SQLite Database
└─────────────────┘</code></pre>

      <h3>Key Architectural Principles</h3>
      <ol>
        <li><strong>Separation of Concerns</strong>: Clear separation between UI, business logic, and data</li>
        <li><strong>Dependency Injection</strong>: Services registered in <code>MauiProgram.cs</code></li>
        <li><strong>Single Responsibility</strong>: Each class has one primary responsibility</li>
        <li><strong>Data Encapsulation</strong>: Models with proper validation and constraints</li>
        <li><strong>User Data Isolation</strong>: All data operations filtered by user ID</li>
      </ol>

      <h2 id="technology-stack">Technology Stack</h2>
      <h3>Core Technologies</h3>
      <ul>
        <li><strong>.NET 9.0</strong>: Latest .NET framework</li>
        <li><strong>.NET MAUI</strong>: Cross-platform UI framework</li>
        <li><strong>C#</strong>: Primary programming language</li>
        <li><strong>XAML</strong>: UI markup language</li>
      </ul>

      <h3>Dependencies</h3>
      <pre><code class="language-xml">&lt;PackageReference Include="Microsoft.Maui.Controls" Version="$(MauiVersion)" /&gt;
&lt;PackageReference Include="Microsoft.Extensions.Logging.Debug" Version="9.0.0" /&gt;
&lt;PackageReference Include="Plugin.LocalNotification" Version="11.1.0" /&gt;
&lt;PackageReference Include="sqlite-net-pcl" Version="1.9.172" /&gt;</code></pre>

      <h2 id="project-structure">Project Structure</h2>
      <pre><code>TM_CapstoneD424/
├── Models/                     # Data models and entities
│   ├── Assessment.cs
│   ├── Course.cs
│   ├── Report.cs
│   ├── Term.cs
│   └── User.cs
├── Services/                   # Business logic services
│   ├── AuthenticationService.cs
│   ├── DatabaseService.cs
│   └── ReportService.cs
├── Views/                      # UI views and pages
│   ├── AddEditAssessmentPage.*
│   ├── AddEditCoursePage.*
│   ├── AddEditTermPage.*
│   ├── CourseDetailPage.*
│   ├── CoursesPage.*
│   ├── LoginPage.*
│   ├── RegisterPage.*
│   ├── ReportsPage.*
│   └── TermsPage.*</code></pre>

      <h2 id="data-models">Data Models</h2>
      <h3>User Model</h3>
      <pre><code class="language-csharp">[Table("Users")]
public class User
{
    [PrimaryKey, AutoIncrement]
    public int Id { get; set; }
    
    public string Username { get; set; }
    public string PasswordHash { get; set; }
    public string Salt { get; set; }
    public DateTime CreatedAt { get; set; }
    public bool IsActive { get; set; }
}</code></pre>

      <h3>Term Model</h3>
      <pre><code class="language-csharp">[Table("Terms")]
public class Term
{
    [PrimaryKey, AutoIncrement]
    public int Id { get; set; }
    
    public string Name { get; set; }
    public DateTime StartDate { get; set; }
    public DateTime EndDate { get; set; }
    public int UserId { get; set; }
    
    [Ignore]
    public List&lt;Course&gt; Courses { get; set; }
}</code></pre>

      <h2 id="services">Services</h2>
      <h3>DatabaseService</h3>
      <p>The <code>DatabaseService</code> handles all database operations using SQLite.</p>
      
      <h4>Key Methods</h4>
      <pre><code class="language-csharp">// User Operations
Task&lt;int&gt; SaveUserAsync(User user)
Task&lt;User&gt; GetUserByUsernameAsync(string username)
Task&lt;bool&gt; IsUsernameAvailableAsync(string username)

// Term Operations
Task&lt;List&lt;Term&gt;&gt; GetTermsAsync(int userId)
Task&lt;Term&gt; GetTermAsync(int id, int userId)
Task&lt;int&gt; SaveTermAsync(Term term)
Task&lt;int&gt; DeleteTermAsync(Term term)</code></pre>

      <h2 id="authentication-system">Authentication System</h2>
      <h3>Registration Process</h3>
      <ol>
        <li>User provides username and password</li>
        <li>Client-side validation (length, required fields)</li>
        <li>Server-side validation (username uniqueness)</li>
        <li>Password hashing with salt</li>
        <li>User record creation in database</li>
        <li>Automatic login after registration</li>
      </ol>

      <h3>Password Security</h3>
      <pre><code class="language-csharp">private string HashPassword(string password)
{
    using (var sha256 = SHA256.Create())
    {
        var saltedPassword = password + "StudentSchedulerSalt";
        var hashedBytes = sha256.ComputeHash(Encoding.UTF8.GetBytes(saltedPassword));
        return Convert.ToBase64String(hashedBytes);
    }
}</code></pre>

      <h2 id="database-design">Database Design</h2>
      <h3>Entity Relationships</h3>
      <ul>
        <li>Users 1:N Terms</li>
        <li>Terms 1:N Courses</li>
        <li>Courses 1:N Assessments</li>
        <li>All entities linked to Users for data isolation</li>
      </ul>

      <h2 id="testing">Testing</h2>
      <h3>Test Framework</h3>
      <ul>
        <li><strong>MSTest</strong>: Microsoft's testing framework</li>
        <li><strong>Test Organization</strong>: Separate test project with same structure as main project</li>
      </ul>

      <h3>Test Statistics</h3>
      <ul>
        <li><strong>Total Tests</strong>: 52</li>
        <li><strong>Pass Rate</strong>: 100%</li>
        <li><strong>Failed Tests</strong>: 0</li>
      </ul>

      <h3>Sample Test Cases</h3>
      <pre><code class="language-csharp">[TestMethod]
public async Task RegisterAsync_WithValidData_ReturnsSuccess()
{
    var result = await _authService.RegisterAsync("testuser", "password123");
    Assert.IsTrue(result.Success);
    Assert.IsNotNull(result.User);
}</code></pre>

      <h3>Course Model</h3>
      <pre><code class="language-csharp">[Table("Courses")]
public class Course
{
    [PrimaryKey, AutoIncrement]
    public int Id { get; set; }
    
    public string Name { get; set; }
    public DateTime StartDate { get; set; }
    public DateTime EndDate { get; set; }
    public string Status { get; set; }
    public string InstructorName { get; set; }
    public string InstructorPhone { get; set; }
    public string InstructorEmail { get; set; }
    public string Notes { get; set; }
    public int TermId { get; set; }
    public int UserId { get; set; }
    
    [Ignore]
    public Term? Term { get; set; }
    
    [Ignore]
    public List&lt;Assessment&gt; Assessments { get; set; }
}</code></pre>

      <h3>Assessment Model</h3>
      <pre><code class="language-csharp">[Table("Assessments")]
public class Assessment
{
    [PrimaryKey, AutoIncrement]
    public int Id { get; set; }
    
    public string Name { get; set; }
    public DateTime StartDate { get; set; }
    public DateTime EndDate { get; set; }
    public string Type { get; set; }
    public int CourseId { get; set; }
    public int UserId { get; set; }
    
    [Ignore]
    public Course Course { get; set; }
}</code></pre>

      <h3>Report Models</h3>
      <pre><code class="language-csharp">public class TranscriptReport
{
    public string StudentName { get; set; }
    public string StudentId { get; set; }
    public List&lt;TranscriptTerm&gt; Terms { get; set; }
    public TranscriptSummary Summary { get; set; }
}

public class TranscriptTerm
{
    public string TermName { get; set; }
    public DateTime StartDate { get; set; }
    public DateTime EndDate { get; set; }
    public List&lt;TranscriptCourse&gt; Courses { get; set; }
}

public class TranscriptCourse
{
    public string CourseName { get; set; }
    public DateTime StartDate { get; set; }
    public DateTime EndDate { get; set; }
    public string Status { get; set; }
    public string InstructorName { get; set; }
    public List&lt;TranscriptAssessment&gt; Assessments { get; set; }
}

public class TranscriptAssessment
{
    public string AssessmentName { get; set; }
    public string Type { get; set; }
    public DateTime StartDate { get; set; }
    public DateTime DueDate { get; set; }
}

public class TranscriptSummary
{
    public int TotalTerms { get; set; }
    public int TotalCourses { get; set; }
    public int TotalAssessments { get; set; }
    public DateTime GeneratedDate { get; set; }
}</code></pre>

      <h2 id="services">Services</h2>
      <h3>DatabaseService</h3>
      <p>The <code>DatabaseService</code> handles all database operations using SQLite.</p>
      
      <h4>Key Methods</h4>
      <pre><code class="language-csharp">// Initialization
Task Init()

// User Operations
Task&lt;int&gt; SaveUserAsync(User user)
Task&lt;User&gt; GetUserByUsernameAsync(string username)
Task&lt;bool&gt; IsUsernameAvailableAsync(string username)

// Term Operations
Task&lt;List&lt;Term&gt;&gt; GetTermsAsync(int userId)
Task&lt;Term&gt; GetTermAsync(int id, int userId)
Task&lt;int&gt; SaveTermAsync(Term term)
Task&lt;int&gt; DeleteTermAsync(Term term)

// Course Operations
Task&lt;List&lt;Course&gt;&gt; GetCoursesByTermAsync(int termId, int userId)
Task&lt;Course&gt; GetCourseAsync(int id, int userId)
Task&lt;int&gt; SaveCourseAsync(Course course)
Task&lt;int&gt; DeleteCourseAsync(Course course)

// Assessment Operations
Task&lt;List&lt;Assessment&gt;&gt; GetAssessmentsByCourseAsync(int courseId, int userId)
Task&lt;Assessment&gt; GetAssessmentAsync(int id, int userId)
Task&lt;int&gt; SaveAssessmentAsync(Assessment assessment)
Task&lt;int&gt; DeleteAssessmentAsync(Assessment assessment)

// Utility Operations
Task AddSampleDataForUserAsync(int userId)
Task ClearUserDataAsync(int userId)</code></pre>

      <h4>Database Connection</h4>
      <pre><code class="language-csharp">private SQLiteAsyncConnection? _database;
private readonly string _databasePath;

public DatabaseService(string? databasePath = null)
{
    _databasePath = databasePath ?? Constants.DatabasePath;
}</code></pre>

      <h3>AuthenticationService</h3>
      <p>Handles user authentication with secure password hashing.</p>

      <h4>Key Methods</h4>
      <pre><code class="language-csharp">Task&lt;(bool Success, string Message, User? User)&gt; RegisterAsync(string username, string password)
Task&lt;(bool Success, string Message, User? User)&gt; LoginAsync(string username, string password)</code></pre>

      <h4>Password Security</h4>
      <pre><code class="language-csharp">private string HashPassword(string password)
{
    using (var sha256 = SHA256.Create())
    {
        var saltedPassword = password + "StudentSchedulerSalt";
        var hashedBytes = sha256.ComputeHash(Encoding.UTF8.GetBytes(saltedPassword));
        return Convert.ToBase64String(hashedBytes);
    }
}

private bool VerifyPassword(string password, string hash)
{
    var hashOfInput = HashPassword(password);
    return hashOfInput == hash;
}</code></pre>

      <h3>ReportService</h3>
      <p>Generates comprehensive academic reports and transcripts.</p>

      <h4>Key Methods</h4>
      <pre><code class="language-csharp">Task&lt;TranscriptReport&gt; GenerateAcademicTranscriptAsync(string studentName, string studentId, int userId)</code></pre>

      <h4>Report Generation Process</h4>
      <ol>
        <li>Retrieve all user's terms from database</li>
        <li>For each term, get associated courses</li>
        <li>For each course, get associated assessments</li>
        <li>Compile data into structured report format</li>
        <li>Generate summary statistics</li>
      </ol>

      <h2 id="views-and-user-interface">Views and User Interface</h2>
      <h3>Navigation Structure</h3>
      <p>The application uses Shell-based navigation with flyout menu:</p>

      <pre><code>AppShell
├── Main Dashboard (MainPage)
├── Terms (TermsPage)
│   └── Courses (CoursesPage)
│       └── Course Detail (CourseDetailPage)
│           └── Add/Edit Assessment (AddEditAssessmentPage)
├── Reports (ReportsPage)
└── Authentication
    ├── Login (LoginPage)
    └── Register (RegisterPage)</code></pre>

      <h3>Key Views</h3>

      <h4>MainPage</h4>
      <ul>
        <li>Dashboard with quick stats</li>
        <li>Navigation to main sections</li>
        <li>User information display</li>
      </ul>

      <h4>TermsPage</h4>
      <ul>
        <li>List of all user's academic terms</li>
        <li>Search/filter functionality</li>
        <li>Add new term button</li>
        <li>Clear all data option</li>
      </ul>

      <h4>CoursesPage</h4>
      <ul>
        <li>List of courses for selected term</li>
        <li>Search/filter by course name, status, dates</li>
        <li>Add new course button</li>
        <li>Edit term button</li>
      </ul>

      <h4>CourseDetailPage</h4>
      <ul>
        <li>Complete course information display</li>
        <li>List of associated assessments</li>
        <li>Notification setting buttons</li>
        <li>Share course notes functionality</li>
        <li>Edit course button</li>
      </ul>

      <h4>AddEditAssessmentPage</h4>
      <ul>
        <li>Form for creating/editing assessments</li>
        <li>Date validation</li>
        <li>Assessment type selection (OA/PA)</li>
      </ul>

      <h4>ReportsPage</h4>
      <ul>
        <li>Generated academic transcript display</li>
        <li>Share report functionality</li>
        <li>Hierarchical data presentation</li>
      </ul>

      <h3>UI Design Patterns</h3>

      <h4>Consistent Color Scheme</h4>
      <ul>
        <li>Primary: <code>#512BD4</code> (Purple)</li>
        <li>Success: <code>Green</code></li>
        <li>Warning: <code>Orange</code></li>
        <li>Danger: <code>Red</code></li>
        <li>Background: <code>Gray</code> variations</li>
      </ul>

      <h4>Responsive Layout</h4>
      <ul>
        <li>ScrollView containers for content</li>
        <li>StackLayout for vertical arrangement</li>
        <li>Grid for structured data display</li>
        <li>Frame for content grouping</li>
      </ul>

      <h4>Interactive Elements</h4>
      <ul>
        <li>Tap gestures for navigation</li>
        <li>Button styling with rounded corners</li>
        <li>Loading indicators for async operations</li>
        <li>Alert dialogs for confirmations</li>
      </ul>

      <h2 id="authentication-system">Authentication System</h2>
      <h3>Registration Process</h3>
      <ol>
        <li>User provides username and password</li>
        <li>Client-side validation (length, required fields)</li>
        <li>Server-side validation (username uniqueness)</li>
        <li>Password hashing with salt</li>
        <li>User record creation in database</li>
        <li>Automatic login after registration</li>
      </ol>

      <h3>Login Process</h3>
      <ol>
        <li>User provides credentials</li>
        <li>Username lookup in database</li>
        <li>Password verification against stored hash</li>
        <li>Session establishment via Preferences</li>
        <li>Navigation to main application</li>
      </ol>

      <h3>Session Management</h3>
      <pre><code class="language-csharp">// Login state persistence
Preferences.Set("IsLoggedIn", true);
Preferences.Set("UserId", user.Id);
Preferences.Set("CurrentUserUsername", user.Username);

// Session validation
var isLoggedIn = Preferences.Get("IsLoggedIn", false);
var userId = Preferences.Get("UserId", 0);</code></pre>

      <h3>Security Features</h3>
      <ul>
        <li>SHA256 password hashing with salt</li>
        <li>No plain text password storage</li>
        <li>User data isolation by UserId</li>
        <li>Session timeout handling</li>
      </ul>

      <h2 id="database-design">Database Design</h2>
      <h3>Schema Overview</h3>
      <pre><code class="language-sql">CREATE TABLE Users (
    Id INTEGER PRIMARY KEY AUTOINCREMENT,
    Username TEXT NOT NULL UNIQUE,
    PasswordHash TEXT NOT NULL,
    Salt TEXT NOT NULL,
    CreatedAt DATETIME DEFAULT CURRENT_TIMESTAMP,
    IsActive BOOLEAN DEFAULT 1
);

CREATE TABLE Terms (
    Id INTEGER PRIMARY KEY AUTOINCREMENT,
    Name TEXT NOT NULL,
    StartDate DATETIME NOT NULL,
    EndDate DATETIME NOT NULL,
    UserId INTEGER NOT NULL,
    FOREIGN KEY (UserId) REFERENCES Users(Id)
);

CREATE TABLE Courses (
    Id INTEGER PRIMARY KEY AUTOINCREMENT,
    Name TEXT NOT NULL,
    StartDate DATETIME NOT NULL,
    EndDate DATETIME NOT NULL,
    Status TEXT NOT NULL,
    InstructorName TEXT,
    InstructorPhone TEXT,
    InstructorEmail TEXT,
    Notes TEXT,
    TermId INTEGER NOT NULL,
    UserId INTEGER NOT NULL,
    FOREIGN KEY (TermId) REFERENCES Terms(Id),
    FOREIGN KEY (UserId) REFERENCES Users(Id)
);

CREATE TABLE Assessments (
    Id INTEGER PRIMARY KEY AUTOINCREMENT,
    Name TEXT NOT NULL,
    StartDate DATETIME NOT NULL,
    EndDate DATETIME NOT NULL,
    Type TEXT NOT NULL,
    CourseId INTEGER NOT NULL,
    UserId INTEGER NOT NULL,
    FOREIGN KEY (CourseId) REFERENCES Courses(Id),
    FOREIGN KEY (UserId) REFERENCES Users(Id)
);</code></pre>

      <h3>Relationships</h3>
      <ul>
        <li>Users 1:N Terms</li>
        <li>Terms 1:N Courses</li>
        <li>Courses 1:N Assessments</li>
        <li>All entities linked to Users for data isolation</li>
      </ul>

      <h3>Database Configuration</h3>
      <pre><code class="language-csharp">public static class Constants
{
    public const string DatabaseFilename = "StudentScheduler.db3";
    
    public static string DatabasePath =>
        Path.Combine(FileSystem.AppDataDirectory, DatabaseFilename);
}</code></pre>

      <h2 id="notification-system">Notification System</h2>
      <h3>Implementation</h3>
      <p>Uses <code>Plugin.LocalNotification</code> for cross-platform notifications.</p>

      <h3>Configuration</h3>
      <pre><code class="language-csharp">// In MauiProgram.cs
builder.UseMauiApp&lt;App&gt;()
       .UseLocalNotification()</code></pre>

      <h3>Notification Types</h3>

      <h4>Course Start Notifications</h4>
      <pre><code class="language-csharp">var request = new NotificationRequest
{
    NotificationId = $"course_start_{courseId}".GetHashCode(),
    Title = "Course Starting",
    Subtitle = $"{courseName}",
    Description = $"Your course '{courseName}' starts today!",
    BadgeNumber = 1,
    Schedule = new NotificationRequestSchedule
    {
        NotifyTime = courseStartDate
    }
};</code></pre>

      <h4>Course End Notifications</h4>
      <pre><code class="language-csharp">var request = new NotificationRequest
{
    NotificationId = $"course_end_{courseId}".GetHashCode(),
    Title = "Course Ending",
    Subtitle = $"{courseName}",
    Description = $"Your course '{courseName}' ends today!",
    BadgeNumber = 1,
    Schedule = new NotificationRequestSchedule
    {
        NotifyTime = courseEndDate
    }
};</code></pre>

      <h3>Usage</h3>
      <ul>
        <li>Set from Course Detail page</li>
        <li>Scheduled for exact course dates</li>
        <li>Unique IDs prevent duplicates</li>
        <li>Platform-specific handling</li>
      </ul>

      <h2 id="reporting-system">Reporting System</h2>
      <h3>Report Generation Flow</h3>
      <ol>
        <li>User navigates to Reports page</li>
        <li>System retrieves all user data</li>
        <li>Data structured into report format</li>
        <li>UI displays hierarchical view</li>
        <li>Option to share report as text file</li>
      </ol>

      <h3>Report Structure</h3>
      <pre><code>Academic Transcript Report
========================
Student: [Name]
Student ID: [ID]
Generated: [Date/Time]

SUMMARY
=======
Total Terms: X
Total Courses: Y
Total Assessments: Z

TERMS AND COURSES
================
Term: [Term Name]
Period: [Start Date] - [End Date]

  Course: [Course Name]
  Period: [Start Date] - [End Date]
  Status: [Status]
  Instructor: [Name] ([Phone]) ([Email])
  
    Assessment: [Assessment Name] ([Type])
    Due Date: [Date]
    
    Assessment: [Assessment Name] ([Type])
    Due Date: [Date]</code></pre>

      <h3>Sharing Functionality</h3>
      <pre><code class="language-csharp">var reportText = GenerateReportText(Report);
var fileName = $"Academic_Report_{DateTime.Now:yyyyMMdd_HHmmss}.txt";
var tempPath = Path.Combine(FileSystem.CacheDirectory, fileName);

await File.WriteAllTextAsync(tempPath, reportText);
await Share.RequestAsync(new ShareFileRequest
{
    Title = "Share Academic Report",
    File = new ShareFile(tempPath)
});</code></pre>

      <h2 id="testing">Testing</h2>
      <h3>Test Framework</h3>
      <ul>
        <li><strong>MSTest</strong>: Microsoft's testing framework</li>
        <li><strong>Test Organization</strong>: Separate test project with same structure as main project</li>
      </ul>

      <h3>Test Categories</h3>

      <h4>Model Tests</h4>
      <ul>
        <li>Constructor validation</li>
        <li>Property getters/setters</li>
        <li>Data validation rules</li>
        <li>Relationship integrity</li>
      </ul>

      <h4>Service Tests</h4>
      <ul>
        <li>Database operations (CRUD)</li>
        <li>Authentication workflows</li>
        <li>Business logic validation</li>
        <li>Error handling scenarios</li>
      </ul>

      <h3>Sample Test Cases</h3>

      <h4>Authentication Tests</h4>
      <pre><code class="language-csharp">[TestMethod]
public async Task RegisterAsync_WithValidData_ReturnsSuccess()
{
    var result = await _authService.RegisterAsync("testuser", "password123");
    Assert.IsTrue(result.Success);
    Assert.IsNotNull(result.User);
}

[TestMethod]
public async Task LoginAsync_WithInvalidCredentials_ReturnsFalse()
{
    var result = await _authService.LoginAsync("nonexistent", "wrong");
    Assert.IsFalse(result.Success);
    Assert.IsNull(result.User);
}</code></pre>

      <h4>Database Tests</h4>
      <pre><code class="language-csharp">[TestMethod]
public async Task SaveTermAsync_WithValidTerm_ReturnsPositiveId()
{
    var term = new Term("Test Term", DateTime.Today, DateTime.Today.AddMonths(6), 1);
    var result = await _databaseService.SaveTermAsync(term);
    Assert.IsTrue(result > 0);
}</code></pre>

      <h3>Test Configuration</h3>
      <pre><code class="language-xml">&lt;!-- test.runsettings --&gt;
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;RunSettings&gt;
  &lt;RunConfiguration&gt;
    &lt;MaxCpuCount&gt;0&lt;/MaxCpuCount&gt;
    &lt;ResultsDirectory&gt;.\TestResults&lt;/ResultsDirectory&gt;
  &lt;/RunConfiguration&gt;
&lt;/RunSettings&gt;</code></pre>

      <h3>Running Tests</h3>
      <pre><code class="language-bash"># Command line
dotnet test

# Visual Studio
Test Explorer → Run All Tests</code></pre>

      <h2 id="build-deployment">Build and Deployment</h2>
      <h3>Build Configuration</h3>
      <pre><code class="language-xml">&lt;PropertyGroup&gt;
    &lt;TargetFrameworks&gt;net9.0-android;net9.0&lt;/TargetFrameworks&gt;
    &lt;OutputType Condition=" '$(TargetFramework)' == 'net9.0-android' "&gt;Exe&lt;/OutputType&gt;
    &lt;OutputType Condition=" '$(TargetFramework)' == 'net9.0' "&gt;Library&lt;/OutputType&gt;
    &lt;UseMaui&gt;true&lt;/UseMaui&gt;
    &lt;SingleProject&gt;true&lt;/SingleProject&gt;
    &lt;ImplicitUsings&gt;enable&lt;/ImplicitUsings&gt;
    &lt;Nullable&gt;enable&lt;/Nullable&gt;
&lt;/PropertyGroup&gt;</code></pre>

      <h3>Build Tasks</h3>
      <p>Available VS Code tasks:</p>
      <ul>
        <li><strong>Build C971 MAUI App</strong>: <code>dotnet build</code></li>
      </ul>

      <h3>Android Deployment</h3>
      <ol>
        <li>Build generates APK/AAB files</li>
        <li>Output location: <code>output/</code> directory</li>
        <li>Signed versions available for distribution</li>
      </ol>

      <h3>Platform Support</h3>
      <ul>
        <li><strong>Android</strong>: Primary target (API 21+)</li>
        <li><strong>iOS</strong>: Supported (iOS 11.0+)</li>
        <li><strong>Windows</strong>: Supported (Windows 10 1809+)</li>
        <li><strong>macOS</strong>: Supported via Mac Catalyst</li>
      </ul>

      <h2 id="development-setup">Development Setup</h2>
      <h3>Prerequisites</h3>
      <ul>
        <li>Visual Studio 2022 with MAUI workload</li>
        <li>.NET 9.0 SDK</li>
        <li>Android SDK (for Android development)</li>
        <li>Git for version control</li>
      </ul>

      <h3>Getting Started</h3>
      <ol>
        <li><strong>Clone Repository</strong>
          <pre><code class="language-bash">git clone &lt;repository-url&gt;
cd c971-to-capstone</code></pre>
        </li>
        <li><strong>Restore Dependencies</strong>
          <pre><code class="language-bash">dotnet restore</code></pre>
        </li>
        <li><strong>Build Project</strong>
          <pre><code class="language-bash">dotnet build</code></pre>
        </li>
        <li><strong>Run Tests</strong>
          <pre><code class="language-bash">dotnet test</code></pre>
        </li>
        <li><strong>Run Application</strong>
          <ul>
            <li>Set TM_CapstoneD424 as startup project</li>
            <li>Select target platform (Android/Windows)</li>
            <li>Press F5 or click Start</li>
          </ul>
        </li>
      </ol>

      <h3>Development Environment</h3>
      <pre><code class="language-bash"># Check .NET version
dotnet --version

# List installed workloads
dotnet workload list

# Install MAUI workload if missing
dotnet workload install maui</code></pre>

      <h3>IDE Configuration</h3>
      <ul>
        <li><strong>Visual Studio 2022</strong>: Recommended IDE</li>
        <li><strong>VS Code</strong>: Alternative with C# extension</li>
        <li><strong>JetBrains Rider</strong>: Alternative IDE option</li>
      </ul>

      <h2 id="api-reference">API Reference</h2>
      <h3>DatabaseService Methods</h3>

      <h4>User Management</h4>
      <pre><code class="language-csharp">Task&lt;int&gt; SaveUserAsync(User user)
Task&lt;User&gt; GetUserAsync(int id)
Task&lt;User&gt; GetUserByUsernameAsync(string username)
Task&lt;bool&gt; IsUsernameAvailableAsync(string username)
Task&lt;int&gt; DeleteUserAsync(User user)</code></pre>

      <h4>Term Management</h4>
      <pre><code class="language-csharp">Task&lt;List&lt;Term&gt;&gt; GetTermsAsync(int userId)
Task&lt;Term&gt; GetTermAsync(int id)
Task&lt;Term&gt; GetTermAsync(int id, int userId)
Task&lt;int&gt; SaveTermAsync(Term term)
Task&lt;int&gt; DeleteTermAsync(Term term)</code></pre>

      <h4>Course Management</h4>
      <pre><code class="language-csharp">Task&lt;List&lt;Course&gt;&gt; GetCoursesAsync(int userId)
Task&lt;List&lt;Course&gt;&gt; GetCoursesByTermAsync(int termId, int userId)
Task&lt;Course&gt; GetCourseAsync(int id)
Task&lt;Course&gt; GetCourseAsync(int id, int userId)
Task&lt;int&gt; SaveCourseAsync(Course course)
Task&lt;int&gt; DeleteCourseAsync(Course course)</code></pre>

      <h4>Assessment Management</h4>
      <pre><code class="language-csharp">Task&lt;List&lt;Assessment&gt;&gt; GetAssessmentsAsync(int userId)
Task&lt;List&lt;Assessment&gt;&gt; GetAssessmentsByCourseAsync(int courseId)
Task&lt;List&lt;Assessment&gt;&gt; GetAssessmentsByCourseAsync(int courseId, int userId)
Task&lt;Assessment&gt; GetAssessmentAsync(int id)
Task&lt;Assessment&gt; GetAssessmentAsync(int id, int userId)
Task&lt;int&gt; SaveAssessmentAsync(Assessment assessment)
Task&lt;int&gt; DeleteAssessmentAsync(Assessment assessment)</code></pre>

      <h4>Utility Methods</h4>
      <pre><code class="language-csharp">Task AddSampleDataForUserAsync(int userId)
Task ClearUserDataAsync(int userId)</code></pre>

      <h3>AuthenticationService Methods</h3>
      <pre><code class="language-csharp">Task&lt;(bool Success, string Message, User? User)&gt; RegisterAsync(string username, string password)
Task&lt;(bool Success, string Message, User? User)&gt; LoginAsync(string username, string password)</code></pre>

      <h3>ReportService Methods</h3>
      <pre><code class="language-csharp">Task&lt;TranscriptReport&gt; GenerateAcademicTranscriptAsync(string studentName, string studentId, int userId)</code></pre>

      <h2 id="business-rules">Business Rules</h2>
      <h3>User Management</h3>
      <ul>
        <li>Username must be unique across all users</li>
        <li>Password minimum length: 6 characters</li>
        <li>User accounts cannot be deleted (soft delete via IsActive flag)</li>
      </ul>

      <h3>Academic Terms</h3>
      <ul>
        <li>Each user can have unlimited terms</li>
        <li>Term dates must be valid (start < end)</li>
        <li>Deleting a term cascades to all courses and assessments</li>
      </ul>

      <h3>Course Management</h3>
      <ul>
        <li>Maximum 6 courses per term</li>
        <li>Course must belong to a term</li>
        <li>Course dates should fall within term dates (not enforced)</li>
        <li>Deleting a course cascades to all assessments</li>
      </ul>

      <h3>Assessment Management</h3>
      <ul>
        <li>Maximum 2 assessments per course</li>
        <li>Assessment types: "Objective Assessment", "Performance Assessment"</li>
        <li>Assessment dates should fall within course dates (not enforced)</li>
        <li>Assessment must belong to a course</li>
      </ul>

      <h3>Data Isolation</h3>
      <ul>
        <li>All data operations filtered by user ID</li>
        <li>Users can only access their own data</li>
        <li>Cross-user data access prevented at service level</li>
      </ul>

      <h2 id="security-considerations">Security Considerations</h2>
      <h3>Password Security</h3>
      <ul>
        <li>SHA256 hashing with application-specific salt</li>
        <li>No plain text password storage</li>
        <li>Salt: "StudentSchedulerSalt" (should be externalized in production)</li>
      </ul>

      <h3>Data Protection</h3>
      <ul>
        <li>User data isolation at database level</li>
        <li>All queries filtered by authenticated user ID</li>
        <li>No direct database access from UI layer</li>
      </ul>

      <h3>Session Management</h3>
      <ul>
        <li>User session stored in device preferences</li>
        <li>No server-side session management</li>
        <li>Session validation on sensitive operations</li>
      </ul>

      <h3>Input Validation</h3>
      <ul>
        <li>Client-side validation for user experience</li>
        <li>Server-side validation for security</li>
        <li>SQL injection prevention via parameterized queries (SQLite-net handles this)</li>
      </ul>

      <h3>Recommendations for Production</h3>
      <ol>
        <li>Externalize salt configuration</li>
        <li>Implement session timeouts</li>
        <li>Add input sanitization</li>
        <li>Consider encryption for sensitive data</li>
        <li>Implement audit logging</li>
      </ol>

      <h2 id="error-handling">Error Handling</h2>
      <h3>Exception Handling Strategy</h3>
      <ul>
        <li>Try-catch blocks around all async operations</li>
        <li>User-friendly error messages via DisplayAlert</li>
        <li>Debug logging for development troubleshooting</li>
      </ul>

      <h3>Common Error Scenarios</h3>
      <h4>1. Database Connection Issues</h4>
      <ul>
        <li>Initialize database on first access</li>
        <li>Graceful degradation if database unavailable</li>
      </ul>

      <h4>2. Authentication Failures</h4>
      <ul>
        <li>Clear error messages without revealing system details</li>
        <li>Consistent messaging for invalid credentials</li>
      </ul>

      <h4>3. Data Validation Errors</h4>
      <ul>
        <li>Client-side validation for immediate feedback</li>
        <li>Server-side validation as final check</li>
      </ul>

      <h4>4. Network/File System Errors</h4>
      <ul>
        <li>Appropriate error messages for sharing operations</li>
        <li>Fallback options where possible</li>
      </ul>

      <h3>Error Logging</h3>
      <pre><code class="language-csharp">try
{
    // Operation
}
catch (Exception ex)
{
    System.Diagnostics.Debug.WriteLine($"Error: {ex.Message}");
    await DisplayAlert("Error", "An error occurred. Please try again.", "OK");
}</code></pre>

      <h2 id="performance-considerations">Performance Considerations</h2>
      <h3>Database Optimization</h3>
      <ul>
        <li>Async operations throughout</li>
        <li>Indexed primary keys</li>
        <li>Minimal data fetching (user-filtered queries)</li>
        <li>Connection pooling via SQLite-net</li>
      </ul>

      <h3>UI Performance</h3>
      <ul>
        <li>Async loading with loading indicators</li>
        <li>Lazy loading of large data sets</li>
        <li>Efficient list rendering with CollectionView</li>
        <li>Image optimization and caching</li>
      </ul>

      <h3>Memory Management</h3>
      <ul>
        <li>Proper disposal of resources</li>
        <li>Minimal object retention</li>
        <li>Event handler cleanup in page lifecycle</li>
      </ul>

      <h3>Recommendations</h3>
      <ol>
        <li>Implement data pagination for large datasets</li>
        <li>Add database indexing for frequently queried fields</li>
        <li>Consider caching for read-heavy operations</li>
        <li>Profile memory usage in production scenarios</li>
      </ol>

      <h2 id="future-enhancements">Future Enhancements</h2>
      <h3>Planned Features</h3>
      <h4>1. Cloud Synchronization</h4>
      <ul>
        <li>Azure/AWS backend integration</li>
        <li>Multi-device synchronization</li>
        <li>Offline-first architecture</li>
      </ul>

      <h4>2. Enhanced Reporting</h4>
      <ul>
        <li>PDF report generation</li>
        <li>Grade tracking and GPA calculation</li>
        <li>Progress analytics and insights</li>
      </ul>

      <h4>3. Calendar Integration</h4>
      <ul>
        <li>Integration with device calendar</li>
        <li>Advanced notification scheduling</li>
        <li>Recurring event support</li>
      </ul>

      <h4>4. Collaboration Features</h4>
      <ul>
        <li>Study group management</li>
        <li>Shared course information</li>
        <li>Instructor communication</li>
      </ul>

      <h4>5. Advanced Search</h4>
      <ul>
        <li>Full-text search across all data</li>
        <li>Advanced filtering options</li>
        <li>Search history and saved searches</li>
      </ul>

      <h3>Technical Improvements</h3>
      <h4>1. Architecture Enhancements</h4>
      <ul>
        <li>Full MVVM implementation with data binding</li>
        <li>Dependency injection container</li>
        <li>Clean architecture patterns</li>
      </ul>

      <h4>2. Testing Improvements</h4>
      <ul>
        <li>Integration testing</li>
        <li>UI testing with test automation</li>
        <li>Performance testing</li>
      </ul>

      <h4>3. Security Enhancements</h4>
      <ul>
        <li>OAuth integration</li>
        <li>Biometric authentication</li>
        <li>End-to-end encryption</li>
      </ul>

      <h4>4. DevOps Integration</h4>
      <ul>
        <li>CI/CD pipeline setup</li>
        <li>Automated testing and deployment</li>
        <li>Application monitoring and analytics</li>
      </ul>

      <hr style="margin: 3rem 0; border: none; border-top: 2px solid #e5e7eb;">
      
      <h2>Conclusion</h2>
      <p>This Student Scheduler Application represents a comprehensive solution for academic schedule management, built with modern .NET technologies and following software engineering best practices. The application provides a solid foundation for future enhancements and demonstrates proficiency in mobile application development, database design, and software architecture.</p>

      <p>The codebase is well-structured, thoroughly tested, and documented to facilitate future development and maintenance. The modular design allows for easy extension and modification while maintaining data integrity and user security.</p>

      <hr style="margin: 3rem 0; border: none; border-top: 2px solid #e5e7eb;">
      
      <h2>Contact Information</h2>
      <p>For questions, issues, or contributions to this project:</p>
      <ul>
        <li><strong>Developer</strong>: Tofik Mohammed</li>
        <li><strong>Student ID</strong>: tmoha34</li>
        <li><strong>Course</strong>: D424 Software Engineering Capstone</li>
        <li><strong>Institution</strong>: Western Governors University</li>
      </ul>

      <p><em>This documentation serves as a comprehensive guide for developers working with the Student Scheduler Application codebase. It should be updated as the application evolves and new features are added.</em></p>
    </div>
  </main>

  <!-- Back to Top Button -->
  <button class="back-to-top" onclick="scrollToTop()">↑</button>

  <script>
    // Back to top functionality
    const backToTopButton = document.querySelector('.back-to-top');
    
    window.addEventListener('scroll', () => {
      if (window.pageYOffset > 300) {
        backToTopButton.classList.add('visible');
      } else {
        backToTopButton.classList.remove('visible');
      }
    });

    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Initialize Prism highlighting
    document.addEventListener('DOMContentLoaded', () => {
      if (typeof Prism !== 'undefined') {
        Prism.highlightAll();
      }
    });
  </script>
</body>
</html>
